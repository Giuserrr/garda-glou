<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GARDA GLOU | Masterclass Vino</title>
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        /* --- VARIABILI COLORI (Dal Logo) --- */
        :root {
            --bg-dark: #0a0f1f; /* Quasi nero, blu notte profondo */
            --navy: #1a2b6d;    /* Il blu delle onde */
            --red: #d93a2b;     /* Il rosso della scritta */
            --skin: #f4cba8;    /* Il rosa della mano */
            --bottle: #2e1a12;
            --white: #f9f9f9;
            --gray: #888;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            color: var(--white);
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            padding-bottom: 80px; /* Spazio per navigazione mobile */
        }

        h1, h2, h3 { font-family: 'Anton', sans-serif; letter-spacing: 1px; text-transform: uppercase; }
        
        /* --- HEADER & NAV --- */
        header {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            background: linear-gradient(to bottom, rgba(10,15,31,0.95), rgba(10,15,31,0));
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            color: var(--red);
            text-shadow: 2px 2px 0px var(--white); /* Effetto pop */
            text-decoration: none;
        }

        .nav-toggle {
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .nav-toggle:hover { transform: scale(1.1); color: var(--red); }

        /* Menu a tendina full screen */
        #menu-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--navy);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 999;
            transform: translateY(-100%);
            transition: transform 0.4s cubic-bezier(0.77, 0, 0.175, 1);
        }
        #menu-overlay.open { transform: translateY(0); }
        .menu-link {
            font-size: 2rem; color: var(--white); text-decoration: none; margin: 15px;
            font-family: 'Anton', sans-serif;
        }
        .menu-link:hover { color: var(--skin); }

        /* --- CONTAINER PRINCIPALE --- */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 20px 20px 20px;
            min-height: 80vh;        }

        /* --- GRIGLIA EVENTI (Stile Netflix) --- */
        .section-title { margin-bottom: 20px; font-size: 1.2rem; color: var(--gray); }
        
        .events-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Mobile: 2 colonne */
            gap: 15px;
        }

        @media(min-width: 768px) {
            .events-grid { grid-template-columns: repeat(4, 1fr); gap: 25px; }
        }

        .card {
            position: relative;
            aspect-ratio: 4/5; /* Formato 1080x1350 */
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            background-color: #161b2e;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        /* Effetto Hover "Netflix" */
        .card:hover {
            transform: scale(1.05);
            z-index: 10;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
            border: 1px solid var(--red);
        }

        .card img {
            width: 100%; height: 100%; object-fit: cover;
            transition: opacity 0.3s;
        }

        .card-info {
            position: absolute;
            bottom: 0; left: 0; width: 100%;
            padding: 40px 10px 15px 10px;
            background: linear-gradient(to top, rgba(0,0,0,1), transparent);
            opacity: 1;
        }

        .card h3 { font-size: 1rem; margin-bottom: 5px; color: var(--white); }
        .card p { font-size: 0.8rem; color: var(--skin); font-weight: bold; }

        /* Coming Soon Style */
        .card.coming-soon {
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            border: 2px dashed var(--navy);
            background: #0e1224;
        }
        .card.coming-soon h3 { color: var(--gray); text-align: center; }
        .card.coming-soon i { font-size: 2rem; color: var(--navy); margin-bottom: 10px; }

        /* --- PAGINA DETTAGLIO EVENTO --- */
        #event-detail {
            display: none; /* Nascosto di default */
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg-dark);
            z-index: 2000;
            overflow-y: auto;
        }

        .detail-hero {
            width: 100%;
            height: 50vh;
            position: relative;
        }
        
        .detail-hero img { width: 100%; height: 100%; object-fit: cover; mask-image: linear-gradient(to bottom, black 50%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 50%, transparent 100%); }
        
        .close-btn {
            position: absolute; top: 20px; right: 20px;
            background: rgba(0,0,0,0.5); color: white;
            width: 40px; height: 40px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; z-index: 2001; font-size: 1.2rem;
        }

        .detail-content {
            padding: 20px;
            margin-top: -60px; /* Sormonta l'immagine */
            position: relative;
        }

        .detail-title { font-size: 2.5rem; line-height: 1; margin-bottom: 10px; color: var(--red); }
        .detail-meta { display: flex; gap: 15px; font-size: 0.9rem; color: var(--skin); margin-bottom: 20px; }
        .detail-desc { font-size: 1rem; line-height: 1.6; color: #ccc; margin-bottom: 80px; }

        .cta-bar {
            position: fixed; bottom: 0; left: 0; width: 100%;
            padding: 15px 20px;
            background: rgba(10, 15, 31, 0.95);
            border-top: 1px solid var(--navy);
            display: flex; justify-content: space-between; align-items: center;
        }

        .price { font-size: 1.5rem; font-family: 'Anton', sans-serif; }
        
        .btn-buy {
            background-color: var(--red);
            color: white;
            padding: 12px 30px;
            border-radius: 4px;
            text-decoration: none;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: background 0.3s;
        }
        .btn-buy:hover { background-color: #b02a1e; }

        /* --- PAGINE STANDARD (Chi siamo, Contatti) --- */
        .page-section { display: none; padding-top: 40px; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .map-container iframe { width: 100%; border-radius: 8px; filter: grayscale(100%) invert(92%) contrast(83%); }

    </style>
    <link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#0a0f1f">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"></head>
<body>
    <div id="install-banner" style="display: none;">
    <div class="install-content">
        <img src="/Logo%20Garda%20Glou.png" alt="Logo" class="install-icon">
        
        <div class="install-text" id="install-instructions">
            Installa l'App <b>Garda Glou</b> üç∑
        </div>
    </div>
    
    <button onclick="closeBanner()" class="install-close">&times;</button>
</div>

<style>
    #install-banner {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        background-color: #1a2b6d; /* Blu scuro elegante */
        color: white;
        z-index: 9999; /* Sopra a tutto */
        padding: 10px 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.5);
        display: flex; /* Flexbox per allineare */
        align-items: center;
        justify-content: space-between;
        font-family: sans-serif;
        box-sizing: border-box;
        animation: slideDown 0.5s ease-out;
    }

    .install-content {
        display: flex;
        align-items: center;
        gap: 15px;
    }

    .install-icon {
        width: 40px;
        height: 40px;
        border-radius: 8px;
        border: 1px solid #d93a2b; /* Bordino rosso */
    }

    .install-text {
        font-size: 0.9rem;
        line-height: 1.3;
    }

    .install-close {
        background: none;
        border: none;
        color: #f4cba8; /* Color Skin */
        font-size: 1.5rem;
        cursor: pointer;
        padding: 0 10px;
    }

    /* Icona condivisone iOS stilizzata */
    .ios-share {
        display: inline-block;
        width: 16px;
        vertical-align: middle;
        fill: #4a90e2; /* Azzurro iOS */
    }

    @keyframes slideDown {
        from { transform: translateY(-100%); }
        to { transform: translateY(0); }
    }
</style>

<script>
    function showBanner() {
        const banner = document.getElementById('install-banner');
        const text = document.getElementById('install-instructions');
        const userAgent = navigator.userAgent || navigator.vendor || window.opera;

        // 1. SE √à GI√Ä APP (STANDALONE), NON MOSTRARE NULLA
        if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true) {
            return; 
        }

        // 2. CONTROLLO SE L'UTENTE L'HA GI√Ä CHIUSO IN PASSATO
        if (localStorage.getItem('installBannerClosed') === 'true') {
            return;
        }

        // 3. RILEVAMENTO IPHONE (iOS)
        if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
            // Testo specifico per chi ha l'iPhone
            text.innerHTML = `Tocca <span style="font-size:1.3rem;">‚éã</span> (Condividi) <br>e poi <b>"Aggiungi a Home"</b>`;
            banner.style.display = 'flex';
        } 
        // 4. RILEVAMENTO ANDROID
        else if (/android/i.test(userAgent)) {
            text.innerHTML = `Installa la nostra <b>App Ufficiale</b> üì≤`;
            banner.style.display = 'flex';
        }
    }

    function closeBanner() {
        document.getElementById('install-banner').style.display = 'none';
        // Salva la preferenza per non rompere le scatole la prossima volta
        localStorage.setItem('installBannerClosed', 'true');
    }

    // Lancia la funzione al caricamento
    window.onload = showBanner;
</script>
    <header>
       <a href="#" onclick="showHome()" class="logo">
    <img src="Logo Garda Glou.png" alt="Garda Glou Logo" style="height: 60px; vertical-align: middle;">
</a>        <div class="nav-toggle" onclick="toggleMenu()">
            <i class="fas fa-bars"></i>
        </div>
    </header>

    <div id="menu-overlay">
        <a href="#" onclick="showHome(); toggleMenu()" class="menu-link">HOME</a>
        <a href="#" onclick="showPage('chisiamo'); toggleMenu()" class="menu-link">CHI SIAMO</a>
        <a href="#" onclick="showPage('contatti'); toggleMenu()" class="menu-link">CONTATTI</a>
        <a href="#" onclick="toggleMenu()" class="menu-link" style="font-size: 1rem; color: var(--gray);">CHIUDI X</a>
    </div>

    <div class="container">

        <div id="home-view">
            <h2 class="section-title">Prossimi Appuntamenti</h2>
            <div class="events-grid" id="events-container">
                </div>
        </div>

<div id="chisiamo-view" class="page-section">
    
    <style>
        .bio-container {
            max-width: 800px; /* Larghezza massima lettura */
            margin: 0 auto;   /* Centra il blocco */
            text-align: left; /* Testo allineato a sinistra per leggibilit√† */
            padding: 0 20px;
        }
        .bio-title {
            color: #f4cba8; /* Colore Skin */
            font-size: 3.5rem;
            line-height: 1.1;
            text-transform: uppercase;
            text-align: center;
            margin-bottom: 40px;
        }
        .bio-text {
            font-size: 1.15rem;
            line-height: 1.8;
            color: #e0e0e0;
            margin-bottom: 20px;
        }
        .bio-highlight {
            color: #fff;
            font-weight: bold;
        }
        .bio-list {
            font-size: 1.4rem;
            font-weight: bold;
            color: #d93a2b; /* Rosso Garda Glou */
            text-align: center;
            margin: 40px 0;
            line-height: 1.6;
        }
        .bio-img {
            width: 100%;
            max-width: 500px; /* SU DESKTOP NON DIVENTA GIGANTE */
            height: auto;
            border-radius: 4px;
            display: block;
            margin: 50px auto 0 auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            filter: grayscale(20%); /* Un tocco leggero vintage, toglilo se non piace */
        }
    </style>

    <div class="bio-container">
        <h1 class="bio-title">NOI BEVIAMO<br>NATURALE.</h1>

        <p class="bio-text">
            Mi chiamo <span class="bio-highlight">Alessandro Salvoldi</span>.
        </p>

        <p class="bio-text">
            Per oltre 11 anni sono stato barman e anima del Tassoni Shop&Drink, creando cocktail e raccontandoli con tecnica, istinto e cuore. Il banco bar √® stato la mia scuola: ascoltare, osservare, capire le persone prima ancora di cosa farle bere.
            <br>
            Ma il vino √® sempre stato un‚Äôaltra storia.
        </p>

        <p class="bio-text">
            Da quasi vent‚Äôanni mi muovo nel suo mondo: ho studiato, ho degustato, ho cercato.
            E ho capito presto che <strong>il vino vero non ha bisogno di punteggi</strong>, classifiche o medaglie. Ha bisogno di essere bevuto, condiviso e vissuto.
        </p>

        <p class="bio-text">
            Negli ultimi anni mi sono concentrato su piccole cantine, piccoli vigneron, vini artigianali e naturali. 
            Vini spesso fuori dagli schemi, a volte scomodi, mai addomesticati. Vini che parlano di chi li fa, non di chi li giudica.
        </p>

        <p class="bio-text">
            La chiusura del Monomarca ha segnato la fine di un capitolo importante, ma non una sconfitta. √à stata una spinta. Una rottura necessaria.
            Il destino ha fatto il resto, riportandomi esattamente dove dovevo stare: <strong>nel vino, senza filtri e senza compromessi.</strong>
        </p>

        <p class="bio-text">
            GARDA GLOU nasce cos√¨. <br>
            Uno spazio libero, autentico, un po‚Äô punk.
            Un posto dove il vino non si spiega troppo.
        </p>

        <div class="bio-list">
            Si beve.<br>
            Si condivide.<br>
            Si vive.
        </div>

        <p style="text-align: center; font-style: italic; opacity: 0.7; margin-bottom: 30px;">
            Niente lezioni noiose, solo bicchieri pieni e storie vere.
        </p>

        <img src="alessandro.jpeg" alt="Alessandro Salvoldi Garda Glou" class="bio-img">
    
    </div>
</div>
    <div id="contatti-view" class="page-section">

    <style>
        .contact-box {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
            padding: 0 20px;
        }
        .contact-title {
            color: #f4cba8; /* Skin */
            font-size: 3rem;
            text-transform: uppercase;
            margin-bottom: 30px;
        }
        .contact-text {
            font-size: 1.2rem;
            color: #e0e0e0;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        .contact-link {
            color: #d93a2b; /* Rosso Garda Glou */
            font-weight: bold;
            text-decoration: none;
            font-size: 1.3rem;
            transition: 0.3s;
        }
        .contact-link:hover {
            color: #f4cba8;
            text-decoration: underline;
        }
        /* Rende la mappa elastica e perfetta su ogni schermo */
        .map-responsive {
            overflow: hidden;
            padding-bottom: 56.25%; /* Formato 16:9 */
            position: relative;
            height: 0;
            border-radius: 8px;
            border: 1px solid #1a2b6d;
            margin-top: 40px;
        }
        .map-responsive iframe {
            left: 0;
            top: 0;
            height: 100%;
            width: 100%;
            position: absolute;
        }
    </style>

    <div class="contact-box">
        <h1 class="contact-title">DOVE SIAMO</h1>

        <p class="contact-text">
            <strong>GARDA GLOU</strong><br>
            Via Orefici 20<br>
            Gavardo (BS)
        </p>

        <p class="contact-text">
            üìû <a href="tel:+393381588684" class="contact-link">338 158 8684</a>
        </p>
        <p class="contact-text">
            ‚úâÔ∏è <a href="mailto:info@gardaglou.club" class="contact-link">info@gardaglou.club</a>
        </p>

        <div class="map-responsive">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2792.2093611248565!2d10.461856277002003!3d45.586335871076244!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47818ff06f79c607%3A0x65de661138793e76!2sVia%20Orefici%2C%2020%2C%2025085%20San%20Biagio%20BS!5e0!3m2!1sit!2sit!4v1766064754505!5m2!1sit!2sit width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

    </div>
</div>        </div>

    </div>

    <div id="event-detail">
        <div class="close-btn" onclick="closeDetail()"><i class="fas fa-times"></i></div>
        <div class="detail-hero">
            <img id="detail-img" src="" alt="">
        </div>
        <div class="detail-content">
            <div class="detail-meta">
                <span id="detail-date"><i class="far fa-calendar"></i> 12 Lug</span>
                <span id="detail-location"><i class="fas fa-map-marker-alt"></i> Cantina X</span>
            </div>
            <h1 id="detail-title" class="detail-title">TITOLO EVENTO</h1>
            <div id="detail-desc" class="detail-desc">Descrizione...</div>
        </div>
        <div class="cta-bar">
            <span class="price" id="detail-price">‚Ç¨ 00</span>
            <a href="#" id="detail-link" class="btn-buy" target="_blank">PARTECIPA</a>
        </div>
    </div>

    <script>
        // --- 1. CARICAMENTO DATI DAL CMS (Backend) ---
    async function loadEvents() {
        try {
            // Cerca il file creato dal pannello Admin
            const response = await fetch('/events.json'); 
            
            if (!response.ok) throw new Error("Nessun evento trovato");

            const data = await response.json();
            const events = data.events; // Prende la lista dal file

            renderEvents(events); // Disegna le card
        } catch (error) {
            console.log("Uso dati di fallback o nessun evento ancora pubblicato");
            // Se non hai ancora pubblicato nulla, mostra questo placeholder
            renderEvents([{ 
                active: false, 
                title: "Coming Soon" 
            }]);
        }
    }

    // --- 2. LOGICA PER GENERARE LE CARD ---
    function renderEvents(eventsList) {
        const grid = document.getElementById('events-container');
        grid.innerHTML = ''; // Pulisce tutto prima di disegnare

        eventsList.forEach(event => {
            const card = document.createElement('article');
            
            // Se l'evento √® attivo (TRUE)
            if (event.active === true || event.active === "true") {
                card.className = 'card';
                // Al click apri il dettaglio passando tutto l'oggetto evento
                card.onclick = () => openDetail(event);
                card.innerHTML = `
                    <img src="${event.image}" alt="${event.title}" onerror="this.src='https://via.placeholder.com/400x500?text=No+Image'">
                    <div class="card-info">
                        <h3>${event.title}</h3>
                        <p>${event.date}</p>
                    </div>
                `;
            } else {
                // Se √® disattivato o coming soon
                card.className = 'card coming-soon';
                card.innerHTML = `
                    <i class="fas fa-water"></i>
                    <h3>GARDA GLOU<br>COMING SOON</h3>
                `;
            }
            grid.appendChild(card);
        });
    }

    // --- 3. NAVIGAZIONE E INTERAZIONI ---
    function toggleMenu() { document.getElementById('menu-overlay').classList.toggle('open'); }
    
    function showHome() {
        hideAll();
        document.getElementById('home-view').style.display = 'block';
        window.scrollTo(0,0);
    }
    
    function showPage(pageId) {
        hideAll();
        document.getElementById(pageId + '-view').style.display = 'block';
    }

    function hideAll() {
        document.getElementById('home-view').style.display = 'none';
        document.getElementById('chisiamo-view').style.display = 'none';
        document.getElementById('contatti-view').style.display = 'none';
        closeDetail();
    }

    // --- 4. GESTIONE DETTAGLIO ---
    function openDetail(data) {
        document.getElementById('detail-title').innerText = data.title;
        document.getElementById('detail-date').innerHTML = `<i class="far fa-calendar"></i> ${data.date}`;
        document.getElementById('detail-location').innerHTML = `<i class="fas fa-map-marker-alt"></i> ${data.location}`;
        document.getElementById('detail-price').innerText = "‚Ç¨ " + data.price;
        // Gestione descrizione (se arriva dal CMS potrebbe avere caratteri speciali)
        document.getElementById('detail-desc').innerText = data.desc;
        document.getElementById('detail-img').src = data.image;
        document.getElementById('detail-link').href = data.stripeLink;

        const modal = document.getElementById('event-detail');
        modal.style.display = 'block';
    }

    function closeDetail() {
        document.getElementById('event-detail').style.display = 'none';
    }

    // AVVIA TUTTO
    // Appena il sito si apre, carica gli eventi veri
    window.onload = loadEvents;    </script>
<style>
        .whatsapp-container {
            position: fixed;
            bottom: 25px;
            right: 25px;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 12px;
            font-family: sans-serif;
        }

        /* Il fumetto con la scritta */
        .whatsapp-label {
            background-color: white;
            color: #0a0f1f;
            padding: 8px 15px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            white-space: nowrap;
            opacity: 0;
            animation: slideIn 0.5s ease-out 1s forwards;
            position: relative;
        }

        .whatsapp-label::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            border-left: 8px solid white;
        }

        /* Il bottone verde rotondo */
        .whatsapp-btn {
            background-color: #25d366;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.4);
            transition: transform 0.3s ease;
            text-decoration: none;
            overflow: hidden; /* Assicura che l'immagine stia nel cerchio */
        }

        .whatsapp-btn:hover {
            transform: scale(1.1);
        }

        /* L'immagine vera e propria */
        .whatsapp-img {
            width: 35px;
            height: 35px;
            object-fit: contain;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>

    <div class="whatsapp-container">
        <div class="whatsapp-label">Unisciti al Club üç∑</div>
        
        <a href="https://chat.whatsapp.com/LkMllhAJbpm1E3qI0NFTt5?mode=hqrt1" class="whatsapp-btn" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" class="whatsapp-img">
        </a>
    </div></body>
</html>
